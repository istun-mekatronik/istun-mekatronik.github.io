<!-- Project Detail Page -->
<div class="detail-page">
    <button onclick="Router.goTo('projects')" class="btn btn-ghost btn-sm detail-back">
        <i class="fa-solid fa-arrow-left"></i> <span id="projectBackBtn">Back to Projects</span>
    </button>
    
    <div class="detail-card">
        <div class="detail-image" id="projectDetailImage"></div>
        <div class="detail-body">
            <div class="detail-meta">
                <span class="tag" id="projectDetailCategory">Capstone</span>
                <span class="tag tag-purple" id="projectDetailYear">2024</span>
                <span class="tag tag-green" id="projectDetailAward" style="display:none;">
                    <i class="fa-solid fa-trophy"></i> <span id="projectAwardText"></span>
                </span>
            </div>
            <h1 class="detail-title" id="projectDetailTitle">Loading...</h1>
            
            <div class="detail-info-grid">
                <div class="detail-info-item">
                    <i class="fa-solid fa-users"></i>
                    <div>
                        <span class="detail-info-label" id="projectLabelTeam">Team</span>
                        <span class="detail-info-value" id="projectDetailTeam"></span>
                    </div>
                </div>
                <div class="detail-info-item">
                    <i class="fa-solid fa-user-tie"></i>
                    <div>
                        <span class="detail-info-label" id="projectLabelAdvisor">Advisor</span>
                        <span class="detail-info-value" id="projectDetailAdvisor"></span>
                    </div>
                </div>
            </div>
            
            <div class="detail-content" id="projectDetailContent"></div>
            
            <div class="detail-tech-box">
                <h4><i class="fa-solid fa-code"></i> <span id="projectLabelTech">Technologies</span></h4>
                <div id="projectDetailTech" class="detail-tech-tags"></div>
            </div>
            
            <div id="projectGithubBox" class="detail-actions" style="display:none;">
                <a href="#" id="projectGithubLink" class="btn btn-ghost" target="_blank">
                    <i class="fa-brands fa-github"></i> <span id="projectLabelGithub">View on GitHub</span>
                </a>
                <a href="#" id="projectVideoLink" class="btn btn-ghost" target="_blank" style="display:none;">
                    <i class="fa-brands fa-youtube"></i> <span id="projectLabelVideo">Watch Demo</span>
                </a>
            </div>
        </div>
    </div>
</div>

<script>
(function() {
    function renderProjectDetailPage() {
        const index = window.currentDetailIndex;
        if (typeof index !== 'number' || index < 0) return;
        
        const data = getData('projects');
        if (!data || data.length === 0) {
            setTimeout(renderProjectDetailPage, 100);
            return;
        }
        
        const p = data[index];
        if (!p) return;
        
        // Update labels with current language
        document.getElementById('projectBackBtn').textContent = t('Back to Projects', 'Projelere Dön');
        document.getElementById('projectLabelTeam').textContent = t('Team', 'Ekip');
        document.getElementById('projectLabelAdvisor').textContent = t('Advisor', 'Danışman');
        document.getElementById('projectLabelTech').textContent = t('Technologies', 'Teknolojiler');
        document.getElementById('projectLabelGithub').textContent = t('View on GitHub', "GitHub'da Görüntüle");
        document.getElementById('projectLabelVideo').textContent = t('Watch Demo', 'Demoyu İzle');
        
        document.getElementById('projectDetailCategory').textContent = p.category || 'Capstone';
        document.getElementById('projectDetailCategory').className = 'tag ' + getTagClass(p.category);
        document.getElementById('projectDetailYear').textContent = p.year || '2024';
        document.getElementById('projectDetailTitle').textContent = t(p.title_en, p.title_tr) || 'Project';
        document.getElementById('projectDetailTeam').textContent = p.team || '—';
        document.getElementById('projectDetailAdvisor').textContent = p.advisor || '—';
        document.getElementById('projectDetailImage').style.backgroundImage = `url('${p.image || 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&q=80'}')`;
        
        const content = t(p.content_en, p.content_tr) || t(p.description_en, p.description_tr) || '';
        document.getElementById('projectDetailContent').innerHTML = content.replace(/\n/g, '<br>');
        
        // Award
        const awardEl = document.getElementById('projectDetailAward');
        if (p.award) {
            awardEl.style.display = 'inline-flex';
            document.getElementById('projectAwardText').textContent = p.award;
        } else {
            awardEl.style.display = 'none';
        }
        
        // Technologies
        const techContainer = document.getElementById('projectDetailTech');
        if (p.technologies) {
            techContainer.innerHTML = p.technologies.split(',').map(tech => 
                `<span class="tag" style="margin:2px;">${tech.trim()}</span>`
            ).join('');
        } else {
            techContainer.innerHTML = '<span class="text-muted">—</span>';
        }
        
        // GitHub link
        const githubBox = document.getElementById('projectGithubBox');
        if (p.github) {
            githubBox.style.display = 'flex';
            document.getElementById('projectGithubLink').href = p.github;
        } else {
            githubBox.style.display = 'none';
        }
        
        // Video link
        const videoLink = document.getElementById('projectVideoLink');
        if (p.video) {
            videoLink.style.display = 'inline-flex';
            videoLink.href = p.video;
        } else {
            videoLink.style.display = 'none';
        }
    }
    
    window.renderProjectDetailPage = renderProjectDetailPage;
    window['renderProject-detailPage'] = renderProjectDetailPage;
    window.renderProjectdetailPage = renderProjectDetailPage;
    
    if (typeof window.currentDetailIndex === 'number') {
        setTimeout(renderProjectDetailPage, 50);
    }
})();
</script>
